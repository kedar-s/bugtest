<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:wiz="http://www.tolven.org/jsf/wizard"
	xmlns:trim="http://www.tolven.org/jsf/trim">
	<head>
		<title>JSF page for displaying associated problems</title>
	</head>
<body>
<ui:composition>

	<wiz:group title="Problems">
		<div id="probelmspopupGrid">
			<div id="#{menu.elementLabel}:associatePlaceholders#{actIndex}#{computeIndex}" class="popupgrid"/>          
		</div>
   
			<h:inputHidden id="addAssociationComputeEnable#{actIndex}#{computeIndex}"  value="#{compute.property['enabled']}"  converter="javax.faces.Boolean"/>			
			<h:inputHidden id="addAssociationComputeTemplate#{actIndex}#{computeIndex}" value="#{compute.property['template']}"  />
			<h:inputHidden id="addAssociationComputePosition#{actIndex}#{computeIndex}" value="#{compute.property['position']}" />					
			<h:inputHidden id="addAssociationComputeAction#{actIndex}#{computeIndex}" value="#{compute.property['action']}"  />	
			<h:inputHidden id="associationPlaceholderPath#{actIndex}#{computeIndex}" value="#{compute.property['placeholderPath']}"  />	
			<table style="width: 100%;" cellpadding="0" cellspacing="0" border="0">
				<thead>
					<tr>
						<th style="width: 5%;">#</th>
						<th style="width: 50%;">Problem</th>
						<th style="width: 15%;">&nbsp;</th>
					</tr>
				</thead>
				<tbody>
					<c:forEach var="association" items="#{actRelation.act.relationshipsList[compute.property['arName']]}"	varStatus="associationIndex">
						<tr>
							<td>#{associationIndex.count}</td>
							<td>#{association.act.observation.value.CE.displayName}</td>
							<td><a href="javascript:deletePlaceholderAssociation('#{menu.elementLabel}','#{actIndex}','#{computeIndex}','#{associationIndex.count}')">Delete</a></td>
						</tr>
					</c:forEach>
				</tbody>
			</table>
			<div style="position:relative; left:30px">
				<!-- The output for the grid is set to type association -->
			    <a class="inactive" href="#" onclick="javascript:openTemplate('#{compute.property['placeholderList']}','#{menu.elementLabel}:associatePlaceholders#{actIndex}#{computeIndex}', '', '#{menu.elementLabel}', '#{actIndex}|#{computeIndex}','association')">Add Problems</a>
			</div>
		</wiz:group>
		</ui:composition>
		</body>
		</html>