<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:wiz="http://www.tolven.org/jsf/wizard"
      xmlns:trim="http://www.tolven.org/jsf/trim">
	<head>
	    <title>Patient Prescription-Report</title>
    	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	</head>
	<body >
 	 	<ui:composition>
 	 	<div id="header">
				<h3 style="text-align:center;">Prescription Report</h3>
		</div>
		<div style="font-size: 12px;font-family: Arial;line-height: 15pt;">
			<table width="90%"  cellpadding="3" border="1">
					<c:set var="surescripts" value="#{trim.trim.act.relationship['toSureScripts']}"/>
					<c:set var="pharmacy" value="#{trim.trim.act.relationship['pharmacy']}"/>
					<c:set var="medication" value="#{trim.trim.act.relationship['medicationDetails']}"/>
					<tr>
						<td width="25%">
							  <h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[0].label.value} :" />
						</td>
						<td width="80%">#{surescripts.act.observation.values[0].ST.value}</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[1].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[1].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[5].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[5].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[7].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[7].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[9].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[9].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[18].label.value} :"/>
						</td>
						<td width="80%">
							#{pharmacy.act.observation.values[1].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[10].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[10].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[11].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[11].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[11].label.value} :"/>
						</td>
						<td width="80%">
							<trim:TS id="orderDate" value="#{medication.act.observation.values[11].TS}" dateStyle="short" readonly="true"/>
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[21].label.value}:"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[21].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[20].label.value}:"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[20].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[0].label.value} :"/>
						</td>
						<td width="80%">
							#{medication.act.observation.values[0].CE}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[1].label.value} :"/>
						</td>
						<td width="80%">
							#{medication.act.observation.values[1].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[17].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[17].INT.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[2].label.value} :"/>
						</td>
						<td width="80%">
							#{medication.act.observation.values[2].INT.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[3].label.value} :"/>
						</td>
						<td width="80%">
							#{medication.act.observation.values[3].ST.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
							<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[4].label.value} :"/>
						</td>
						<td width="80%">
							#{medication.act.observation.values[12].CE}
						</td>
					</tr>
					<c:if test="#{medication.act.observation.values[12].CE=='R'}">
						<tr>
							<td width="25%">
								<h:outputText value="#{medication.act.observation.values[4].label.value} (Quantity)"/>
							</td>	
							<td width="80%">
								#{medication.act.observation.values[4].ST.value}
							</td>
						</tr>		
					</c:if>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[13].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[13].INT.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[14].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[14].INT.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[5].label.value} :"/>
						</td>
						<td width="80%">
							#{medication.act.observation.values[5].CE}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[6].label.value} :"/>
						</td>
						<td width="80%">
							#{medication.act.observation.values[6].CE}
						</td>
					</tr>
					<tr>
						<td width="10%">
									#{trim.trim.act.relationship['medicationDetails'].act.effectiveTime.IVLTS.low.label.value} : 
						</td>          
	               		<td width="40%">
									<trim:TS id="startDate" value="#{medication.act.effectiveTime.IVLTS.low.TS}" dateStyle="short" readonly="true"/>
						</td>	
					</tr>
					<tr>
						<td width="10%">
							#{trim.trim.act.relationship['medicationDetails'].act.effectiveTime.IVLTS.high.label.value} : 
						</td>          
	               		<td width="40%">
							<trim:TS id="endDate" value="#{medication.act.effectiveTime.IVLTS.high.TS}" dateStyle="short" readonly="true"/>
						</td>	
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[9].label.value} :"/>
						</td>
						<td width="80%">
							#{medication.act.observation.values[9].INT.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['medicationDetails'].act.observation.values[10].label.value} :"/>
						</td>
						<td width="80%">
							#{medication.act.observation.values[10].INT.value}
						</td>
					</tr>
					<tr>
						<td width="25%">
								<h:outputText value="#{trim.trim.act.relationship['toSureScripts'].act.observation.values[16].label.value} :"/>
						</td>
						<td width="80%">
							#{surescripts.act.observation.values[16].ST.value}
						</td>
					</tr>
				</table>
			</div>
		</ui:composition>
	</body>
</html>		